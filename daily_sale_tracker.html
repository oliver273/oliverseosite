<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Sale Tracker - OliverSEO</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Make sure you're viewing the HTML file, not the markdown! -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #f59e0b;
            --primary-dark: #d97706;
            --background: #0f172a;
            --surface: #1e293b;
            --surface-light: #334155;
            --text: #f8fafc;
            --text-secondary: #cbd5e1;
            --success: #10b981;
            --border: #334155;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.6;
            padding: 2rem;
        }
        
        .header {
            background: var(--surface);
            padding: 2rem;
            border-radius: 1rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }
        
        .back-btn {
            display: inline-block;
            margin-top: 1rem;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .back-btn:hover {
            color: var(--primary-dark);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section {
            background: var(--surface);
            padding: 2rem;
            border-radius: 1rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }
        
        .section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-weight: 600;
        }
        
        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group input[type="date"],
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            color: var(--text);
            font-size: 1rem;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: 1.25rem;
            height: 1.25rem;
            accent-color: var(--primary);
            cursor: pointer;
        }
        
        .checkbox-group label {
            margin: 0;
            cursor: pointer;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--background);
            padding: 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border);
            text-align: center;
        }
        
        .stat-card .stat-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }
        
        .stat-card .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        table th,
        table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        table th {
            background: var(--background);
            color: var(--primary);
            font-weight: 600;
        }
        
        table input {
            width: 100% !important;
            padding: 0.75rem !important;
            background: var(--surface-light) !important;
            border: 2px solid var(--primary) !important;
            border-radius: 0.5rem !important;
            color: var(--text) !important;
            font-size: 1rem !important;
            min-width: 80px !important;
            min-height: 40px !important;
            cursor: text !important;
            display: block !important;
            box-sizing: border-box !important;
            -webkit-appearance: textfield !important;
            -moz-appearance: textfield !important;
            appearance: textfield !important;
        }
        
        table input:hover {
            border-color: var(--primary-dark) !important;
            background: var(--surface) !important;
        }
        
        table input:focus {
            outline: 2px solid var(--primary) !important;
            outline-offset: 2px;
            border-color: var(--primary) !important;
            background: var(--background) !important;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
        }
        
        table input::placeholder {
            color: var(--text-secondary);
            opacity: 0.7;
        }
        
        table td {
            padding: 0.5rem !important;
        }
        
        .btn {
            background: var(--primary);
            color: var(--background);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: var(--primary-dark);
        }
        
        .btn-secondary {
            background: var(--surface-light);
            color: var(--text);
        }
        
        .btn-secondary:hover {
            background: var(--border);
        }
        
        .save-status {
            display: inline-block;
            margin-left: 1rem;
            color: var(--success);
            font-weight: 600;
        }
        
        .notes-area {
            width: 100%;
            min-height: 100px;
            padding: 0.75rem;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            color: var(--text);
            font-family: inherit;
            resize: vertical;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Daily Sale Tracker</h1>
            <p>Track your daily progress and sales</p>
            <p style="color: var(--primary); font-weight: 600; margin-top: 0.5rem;">‚úì Interactive HTML Tracker - All fields are clickable!</p>
            <a href="index.html" class="back-btn">‚Üê Back to Dashboard</a>
        </div>
        
        <!-- Date Selection -->
        <div class="section">
            <h2>üìÖ Select Date</h2>
            <div class="form-group">
                <label for="tracker-date">Today's Date:</label>
                <input type="date" id="tracker-date" />
            </div>
            <button class="btn" onclick="loadDate()">Load Date</button>
            <span id="save-status" class="save-status" style="display: none;">‚úì Saved</span>
        </div>
        
        <!-- Daily Goals -->
        <div class="section">
            <h2>üéØ Daily Goals</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Proposals Sent</div>
                    <div class="stat-value" id="proposals-value">0</div>
                    <input type="number" id="proposals" min="0" placeholder="0" onchange="updateStats()" />
                </div>
                <div class="stat-card">
                    <div class="stat-label">Responses</div>
                    <div class="stat-value" id="responses-value">0</div>
                    <input type="number" id="responses" min="0" placeholder="0" onchange="updateStats()" />
                </div>
                <div class="stat-card">
                    <div class="stat-label">Consultations</div>
                    <div class="stat-value" id="consultations-value">0</div>
                    <input type="number" id="consultations" min="0" placeholder="0" onchange="updateStats()" />
                </div>
                <div class="stat-card">
                    <div class="stat-label">Sales Closed</div>
                    <div class="stat-value" id="sales-value">0</div>
                    <input type="number" id="sales" min="0" placeholder="0" onchange="updateStats()" />
                </div>
                <div class="stat-card">
                    <div class="stat-label">Revenue</div>
                    <div class="stat-value" id="revenue-value">$0</div>
                    <input type="number" id="revenue" min="0" step="0.01" placeholder="0" onchange="updateStats()" />
                </div>
            </div>
        </div>
        
        <!-- Today's Actions -->
        <div class="section">
            <h2>üìù Today's Actions</h2>
            
            <h3 style="margin-top: 1rem; margin-bottom: 1rem; color: var(--text-secondary);">Morning (8-10 AM):</h3>
            <div class="form-group">
                <label>Fiverr proposals:</label>
                <input type="number" id="morning-fiverr" min="0" placeholder="0" onchange="saveData()" />
            </div>
            <div class="form-group">
                <label>Upwork proposals:</label>
                <input type="number" id="morning-upwork" min="0" placeholder="0" onchange="saveData()" />
            </div>
            <div class="form-group">
                <label>Reddit replies:</label>
                <input type="number" id="morning-reddit" min="0" placeholder="0" onchange="saveData()" />
            </div>
            <div class="form-group">
                <label>LinkedIn messages:</label>
                <input type="number" id="morning-linkedin" min="0" placeholder="0" onchange="saveData()" />
            </div>
            
            <h3 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--text-secondary);">Afternoon (12-2 PM):</h3>
            <div class="form-group">
                <label>Follow-ups:</label>
                <input type="number" id="afternoon-followups" min="0" placeholder="0" onchange="saveData()" />
            </div>
            <div class="form-group">
                <label>New proposals:</label>
                <input type="number" id="afternoon-proposals" min="0" placeholder="0" onchange="saveData()" />
            </div>
            <div class="form-group">
                <label>Social media:</label>
                <input type="number" id="afternoon-social" min="0" placeholder="0" onchange="saveData()" />
            </div>
            
            <h3 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--text-secondary);">Evening (3-5 PM):</h3>
            <div class="form-group">
                <label>Final proposals:</label>
                <input type="number" id="evening-proposals" min="0" placeholder="0" onchange="saveData()" />
            </div>
            <div class="form-group">
                <label>Follow-ups:</label>
                <input type="number" id="evening-followups" min="0" placeholder="0" onchange="saveData()" />
            </div>
            <div class="form-group">
                <label>Closing calls:</label>
                <input type="number" id="evening-calls" min="0" placeholder="0" onchange="saveData()" />
            </div>
        </div>
        
        <!-- Sales Log -->
        <div class="section">
            <h2>üí∞ Sales Log</h2>
            <div id="sales-log">
                <!-- Sales will be added here dynamically -->
            </div>
            <button class="btn" onclick="addSale()" style="margin-top: 1rem;">+ Add Sale</button>
        </div>
        
        <!-- Weekly Summary -->
        <div class="section">
            <h2>üìà Weekly Summary</h2>
            <div class="form-group">
                <label for="week-start">Week of:</label>
                <input type="date" id="week-start" onchange="saveData()" />
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Day</th>
                        <th>Proposals</th>
                        <th>Responses</th>
                        <th>Sales</th>
                        <th>Revenue</th>
                    </tr>
                </thead>
                <tbody id="weekly-table">
                    <tr>
                        <td>Mon</td>
                        <td><input type="number" data-day="mon" data-field="proposals" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="mon" data-field="responses" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="mon" data-field="sales" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="mon" data-field="revenue" min="0" step="0.01" placeholder="0.00" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                    </tr>
                    <tr>
                        <td>Tue</td>
                        <td><input type="number" data-day="tue" data-field="proposals" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="tue" data-field="responses" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="tue" data-field="sales" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="tue" data-field="revenue" min="0" step="0.01" placeholder="0.00" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                    </tr>
                    <tr>
                        <td>Wed</td>
                        <td><input type="number" data-day="wed" data-field="proposals" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="wed" data-field="responses" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="wed" data-field="sales" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="wed" data-field="revenue" min="0" step="0.01" placeholder="0.00" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                    </tr>
                    <tr>
                        <td>Thu</td>
                        <td><input type="number" data-day="thu" data-field="proposals" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="thu" data-field="responses" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="thu" data-field="sales" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="thu" data-field="revenue" min="0" step="0.01" placeholder="0.00" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                    </tr>
                    <tr>
                        <td>Fri</td>
                        <td><input type="number" data-day="fri" data-field="proposals" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="fri" data-field="responses" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="fri" data-field="sales" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="fri" data-field="revenue" min="0" step="0.01" placeholder="0.00" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                    </tr>
                    <tr>
                        <td>Sat</td>
                        <td><input type="number" data-day="sat" data-field="proposals" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="sat" data-field="responses" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="sat" data-field="sales" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="sat" data-field="revenue" min="0" step="0.01" placeholder="0.00" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                    </tr>
                    <tr>
                        <td>Sun</td>
                        <td><input type="number" data-day="sun" data-field="proposals" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="sun" data-field="responses" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="sun" data-field="sales" min="0" placeholder="0" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                        <td><input type="number" data-day="sun" data-field="revenue" min="0" step="0.01" placeholder="0.00" value="" onchange="saveData(); updateWeeklyTotals()" /></td>
                    </tr>
                    <tr style="font-weight: 700; background: var(--background);">
                        <td>Total</td>
                        <td id="weekly-proposals-total">0</td>
                        <td id="weekly-responses-total">0</td>
                        <td id="weekly-sales-total">0</td>
                        <td id="weekly-revenue-total">$0</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Monthly Goal -->
        <div class="section">
            <h2>üéØ Monthly Goal</h2>
            <div class="form-group">
                <label for="month">Month:</label>
                <input type="month" id="month" onchange="saveData()" />
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Sales Goal</div>
                    <div class="stat-value" id="monthly-sales-goal">30</div>
                    <input type="number" id="monthly-sales-goal-input" value="30" min="0" onchange="updateMonthlyGoal()" />
                </div>
                <div class="stat-card">
                    <div class="stat-label">Sales Actual</div>
                    <div class="stat-value" id="monthly-sales-actual">0</div>
                    <input type="number" id="monthly-sales-actual-input" min="0" onchange="updateMonthlyGoal()" />
                </div>
                <div class="stat-card">
                    <div class="stat-label">Revenue Goal</div>
                    <div class="stat-value" id="monthly-revenue-goal">$0</div>
                    <input type="number" id="monthly-revenue-goal-input" min="0" step="0.01" onchange="updateMonthlyGoal()" />
                </div>
                <div class="stat-card">
                    <div class="stat-label">Revenue Actual</div>
                    <div class="stat-value" id="monthly-revenue-actual">$0</div>
                    <input type="number" id="monthly-revenue-actual-input" min="0" step="0.01" onchange="updateMonthlyGoal()" />
                </div>
            </div>
            <div class="form-group" style="margin-top: 1rem;">
                <div class="checkbox-group">
                    <input type="checkbox" id="on-track" onchange="saveData()" />
                    <label for="on-track">On Track?</label>
                </div>
            </div>
        </div>
        
        <!-- Notes -->
        <div class="section">
            <h2>üí° Notes</h2>
            <div class="form-group">
                <label for="what-worked">What Worked Today:</label>
                <textarea id="what-worked" class="notes-area" onchange="saveData()"></textarea>
            </div>
            <div class="form-group">
                <label for="what-didnt-work">What Didn't Work:</label>
                <textarea id="what-didnt-work" class="notes-area" onchange="saveData()" /></textarea>
            </div>
            <div class="form-group">
                <label for="tomorrow-focus">Tomorrow's Focus:</label>
                <textarea id="tomorrow-focus" class="notes-area" onchange="saveData()"></textarea>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="section">
            <button class="btn" onclick="saveData()">üíæ Save All Data</button>
            <button class="btn btn-secondary" onclick="clearToday()" style="margin-left: 1rem;">üóëÔ∏è Clear Today</button>
            <button class="btn btn-secondary" onclick="exportData()" style="margin-left: 1rem;">üì• Export Data</button>
            <span id="save-status-bottom" class="save-status" style="display: none;">‚úì Saved</span>
        </div>
    </div>
    
    <script>
        let saleCount = 0;
        
        // Set today's date by default
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('tracker-date').value = today;
            loadDate();
        });
        
        function loadDate() {
            const date = document.getElementById('tracker-date').value;
            if (!date) return;
            
            const data = loadDataForDate(date);
            if (data) {
                // Load all form data
                Object.keys(data).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        if (element.type === 'checkbox') {
                            element.checked = data[key];
                        } else {
                            element.value = data[key] || '';
                        }
                    }
                });
                
                // Load weekly data
                const weeklyInputs = document.querySelectorAll('#weekly-table input');
                weeklyInputs.forEach(input => {
                    const day = input.dataset.day;
                    const field = input.dataset.field;
                    if (day && field) {
                        const key = `weekly-${day}-${field}`;
                        if (data[key] !== undefined && data[key] !== '' && data[key] !== 0) {
                            input.value = data[key];
                        } else {
                            input.value = '';
                        }
                    }
                });
                
                // Load sales
                if (data.sales) {
                    saleCount = data.sales.length;
                    document.getElementById('sales-log').innerHTML = '';
                    data.sales.forEach((sale, index) => {
                        addSaleEntry(index, sale);
                    });
                }
                
                updateStats();
                updateWeeklyTotals();
                updateMonthlyGoal();
            } else {
                // No data for this date - clear weekly inputs
                const weeklyInputs = document.querySelectorAll('#weekly-table input');
                weeklyInputs.forEach(input => {
                    input.value = '';
                });
                updateWeeklyTotals();
            }
        }
        
        function saveData() {
            const date = document.getElementById('tracker-date').value;
            if (!date) {
                alert('Please select a date first!');
                return;
            }
            
            const data = {
                date: date,
                proposals: document.getElementById('proposals').value || 0,
                responses: document.getElementById('responses').value || 0,
                consultations: document.getElementById('consultations').value || 0,
                sales: document.getElementById('sales').value || 0,
                revenue: document.getElementById('revenue').value || 0,
                'morning-fiverr': document.getElementById('morning-fiverr').value || 0,
                'morning-upwork': document.getElementById('morning-upwork').value || 0,
                'morning-reddit': document.getElementById('morning-reddit').value || 0,
                'morning-linkedin': document.getElementById('morning-linkedin').value || 0,
                'afternoon-followups': document.getElementById('afternoon-followups').value || 0,
                'afternoon-proposals': document.getElementById('afternoon-proposals').value || 0,
                'afternoon-social': document.getElementById('afternoon-social').value || 0,
                'evening-proposals': document.getElementById('evening-proposals').value || 0,
                'evening-followups': document.getElementById('evening-followups').value || 0,
                'evening-calls': document.getElementById('evening-calls').value || 0,
                'week-start': document.getElementById('week-start').value || '',
                month: document.getElementById('month').value || '',
                'monthly-sales-goal-input': document.getElementById('monthly-sales-goal-input').value || 30,
                'monthly-sales-actual-input': document.getElementById('monthly-sales-actual-input').value || 0,
                'monthly-revenue-goal-input': document.getElementById('monthly-revenue-goal-input').value || 0,
                'monthly-revenue-actual-input': document.getElementById('monthly-revenue-actual-input').value || 0,
                'on-track': document.getElementById('on-track').checked,
                'what-worked': document.getElementById('what-worked').value || '',
                'what-didnt-work': document.getElementById('what-didnt-work').value || '',
                'tomorrow-focus': document.getElementById('tomorrow-focus').value || '',
                sales: []
            };
            
            // Save weekly data
            const weeklyInputs = document.querySelectorAll('#weekly-table input');
            weeklyInputs.forEach(input => {
                const day = input.dataset.day;
                const field = input.dataset.field;
                if (day && field) {
                    data[`weekly-${day}-${field}`] = input.value || 0;
                }
            });
            
            // Save sales
            const saleEntries = document.querySelectorAll('.sale-entry');
            saleEntries.forEach(entry => {
                data.sales.push({
                    service: entry.querySelector('.sale-service').value,
                    price: entry.querySelector('.sale-price').value,
                    client: entry.querySelector('.sale-client').value,
                    platform: entry.querySelector('.sale-platform').value,
                    date: entry.querySelector('.sale-date').value
                });
            });
            
            localStorage.setItem(`tracker-${date}`, JSON.stringify(data));
            
            // Show save status
            document.getElementById('save-status').style.display = 'inline-block';
            document.getElementById('save-status-bottom').style.display = 'inline-block';
            setTimeout(() => {
                document.getElementById('save-status').style.display = 'none';
                document.getElementById('save-status-bottom').style.display = 'none';
            }, 2000);
        }
        
        function loadDataForDate(date) {
            const data = localStorage.getItem(`tracker-${date}`);
            return data ? JSON.parse(data) : null;
        }
        
        function updateStats() {
            const proposals = parseInt(document.getElementById('proposals').value) || 0;
            const responses = parseInt(document.getElementById('responses').value) || 0;
            const consultations = parseInt(document.getElementById('consultations').value) || 0;
            const sales = parseInt(document.getElementById('sales').value) || 0;
            const revenue = parseFloat(document.getElementById('revenue').value) || 0;
            
            document.getElementById('proposals-value').textContent = proposals;
            document.getElementById('responses-value').textContent = responses;
            document.getElementById('consultations-value').textContent = consultations;
            document.getElementById('sales-value').textContent = sales;
            document.getElementById('revenue-value').textContent = '$' + revenue.toFixed(2);
            
            saveData();
        }
        
        function updateWeeklyTotals() {
            const days = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];
            const fields = ['proposals', 'responses', 'sales'];
            
            fields.forEach(field => {
                let total = 0;
                days.forEach(day => {
                    const input = document.querySelector(`input[data-day="${day}"][data-field="${field}"]`);
                    if (input) {
                        total += parseInt(input.value) || 0;
                    }
                });
                document.getElementById(`weekly-${field}-total`).textContent = total;
            });
            
            // Revenue total
            let revenueTotal = 0;
            days.forEach(day => {
                const input = document.querySelector(`input[data-day="${day}"][data-field="revenue"]`);
                if (input) {
                    revenueTotal += parseFloat(input.value) || 0;
                }
            });
            document.getElementById('weekly-revenue-total').textContent = '$' + revenueTotal.toFixed(2);
        }
        
        function updateMonthlyGoal() {
            const salesGoal = parseInt(document.getElementById('monthly-sales-goal-input').value) || 30;
            const salesActual = parseInt(document.getElementById('monthly-sales-actual-input').value) || 0;
            const revenueGoal = parseFloat(document.getElementById('monthly-revenue-goal-input').value) || 0;
            const revenueActual = parseFloat(document.getElementById('monthly-revenue-actual-input').value) || 0;
            
            document.getElementById('monthly-sales-goal').textContent = salesGoal;
            document.getElementById('monthly-sales-actual').textContent = salesActual;
            document.getElementById('monthly-revenue-goal').textContent = '$' + revenueGoal.toFixed(2);
            document.getElementById('monthly-revenue-actual').textContent = '$' + revenueActual.toFixed(2);
            
            saveData();
        }
        
        function addSale() {
            addSaleEntry(saleCount, {
                service: 'article',
                price: '',
                client: '',
                platform: '',
                date: document.getElementById('tracker-date').value || new Date().toISOString().split('T')[0]
            });
            saleCount++;
        }
        
        function addSaleEntry(index, sale) {
            const saleDiv = document.createElement('div');
            saleDiv.className = 'sale-entry';
            saleDiv.style.cssText = 'background: var(--background); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1rem; border: 1px solid var(--border);';
            saleDiv.innerHTML = `
                <h3 style="margin-bottom: 1rem; color: var(--primary);">Sale #${index + 1}</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                    <div class="form-group">
                        <label>Service:</label>
                        <select class="sale-service" onchange="saveData()">
                            <option value="article" ${sale.service === 'article' ? 'selected' : ''}>Article</option>
                            <option value="website" ${sale.service === 'website' ? 'selected' : ''}>Website</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Price:</label>
                        <input type="number" class="sale-price" min="0" step="0.01" value="${sale.price || ''}" placeholder="$0" onchange="saveData()" />
                    </div>
                    <div class="form-group">
                        <label>Client:</label>
                        <input type="text" class="sale-client" value="${sale.client || ''}" placeholder="Client name" onchange="saveData()" />
                    </div>
                    <div class="form-group">
                        <label>Platform:</label>
                        <input type="text" class="sale-platform" value="${sale.platform || ''}" placeholder="Fiverr, Upwork, etc." onchange="saveData()" />
                    </div>
                    <div class="form-group">
                        <label>Date:</label>
                        <input type="date" class="sale-date" value="${sale.date || ''}" onchange="saveData()" />
                    </div>
                </div>
                <button class="btn btn-secondary" onclick="removeSale(this)" style="margin-top: 1rem;">Remove</button>
            `;
            document.getElementById('sales-log').appendChild(saleDiv);
        }
        
        function removeSale(btn) {
            if (confirm('Remove this sale?')) {
                btn.closest('.sale-entry').remove();
                saveData();
            }
        }
        
        function clearToday() {
            if (confirm('Clear all data for today? This cannot be undone.')) {
                const date = document.getElementById('tracker-date').value;
                if (date) {
                    localStorage.removeItem(`tracker-${date}`);
                }
                location.reload();
            }
        }
        
        function exportData() {
            const date = document.getElementById('tracker-date').value;
            const data = loadDataForDate(date);
            if (!data) {
                alert('No data to export!');
                return;
            }
            
            const json = JSON.stringify(data, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `sale-tracker-${date}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // Auto-save on input
        document.addEventListener('input', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.tagName === 'SELECT') {
                if (e.target.id !== 'tracker-date') {
                    setTimeout(saveData, 500);
                }
            }
        });
    </script>
</body>
</html>

